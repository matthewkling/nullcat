% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/suggest_n_iter.R
\name{suggest_n_iter}
\alias{suggest_n_iter}
\title{Suggest a reasonable n_iter for nullcat()}
\usage{
suggest_n_iter(
  x,
  method = "curvecat",
  n_iter = 1000L,
  thin = NULL,
  n_chains = 5,
  stat = "kappa",
  plot = FALSE,
  tail_frac = 0.3,
  n_cores = 1
)
}
\arguments{
\item{x}{A matrix containing integer or factor values.}

\item{method}{Character specifying algorithm to use. See \code{nullcat()} for details.}

\item{n_iter}{Number of successive matrix updates to apply. Default is \code{1000}.}

\item{thin}{Thinning interval for the test chain. Higher values run faster but
with lower resolution. Default is \code{n_iter / 100}, giving ~100 samples.}

\item{n_chains}{Number of independent runs to perform, to assess consistency.
Default is \code{5}.}

\item{stat}{Output trace statistic to compute for each iteration. Either:
\itemize{
   \item \code{"kappa"} (the default) Cohen's kappa between the original `x` and
   the randomized matrix `x_rand`
   \item \code{"prop_equal"} proportion of cells in which `x == x_rand`
   \item any function taking (`x`, `x_rand`) and returning a numeric scalar
}}

\item{plot}{Logical; if TRUE, plot the trace. Default is FALSE.}

\item{tail_frac}{Fraction of the trace (at the end) used to estimate
the stationary mean for each chain. Default is 0.3 (last 30\%).}

\item{n_cores}{Maximum number of compute cores to use for parallel processing.
Default is 1. If greater than 1, chains are processed in parallel.}
}
\value{
A numeric value giving the suggested \code{n_iter} for \code{nullcat()},
with attributes \code{trace}, \code{steps}, \code{tail_mean},
\code{per_chain}, and \code{converged}. If convergence cannot be
diagnosed within \code{n_iter}, the returned value is \code{NA}
and \code{converged} is \code{FALSE}.
}
\description{
Uses trace diagnostics to estimate how many burn-in iterations are
needed for the chain to reach its apparent stationary distribution,
given your data and randomization method.
}
\details{
The diagnostic used is a tail-catching heuristic: burn-in is
considered complete when a chosen test statistic first crosses its mean
value measured in the final "tail" window of the chain, provided
this happens before the tail window. If multiple chains are used
(highly recommended), the maximum of burn-in lengths across chains
is returned.
}
