[{"path":"https://matthewkling.github.io/nullcat/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2025 nullcat authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Introduction to nullcat","text":"nullcat provides null model algorithms categorical quantitative community ecology data. extends classic binary null models (e.g., curveball, swap) work categorical data, introduces stratified randomization framework continuous data. Categorical null models generalize binary null models matrices cells contain integers representing discrete categories. Whereas binary models preserve totals (e.g. row column sums), categorical models preserve multisets (e.g. category frequencies row column). example, row contains [1, 1, 2, 3, 3, 3], row-preserving categorical algorithm preserve exact multiset—two 1s, one 2, three 3s—randomizing categories appear within row. Traditional binary models simply specific two-category cases corresponding general categorical models (e.g. curveball equivalent curvecat two categories).","code":""},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"use-cases","dir":"Articles","previous_headings":"Introduction","what":"Use cases","title":"Introduction to nullcat","text":"Categorical null models designed cell-level categorical data—characteristics species site—rather site-level species-level attributes. can useful categorical ordinal ecological data. Examples include: Ordinal states: phenological stages, health status, life stages Multi-state interactions: interaction type, infection status, mutualism outcomes Population genetic states: genotypes allelic frequencies population level Binned quantitative measures: abundance classes, cover scales, occurrence probability bins (quantize() function covered automates binning randomization) Binary data: species presence-absence data similar","code":""},{"path":[]},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"available-algorithms","dir":"Articles","previous_headings":"Categorical null models","what":"Available algorithms","title":"Introduction to nullcat","text":"package provides five categorical null model algorithms: curvecat(): Categorical curveball (efficient) swapcat(): Categorical 2×2 swap tswapcat(): Categorical trial-swap r0cat(): Row-constrained randomization c0cat(): Column-constrained randomization","code":""},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"example-basic-categorical-randomization","dir":"Articles","previous_headings":"Categorical null models","what":"Example: Basic categorical randomization","title":"Introduction to nullcat","text":"","code":"# Create a categorical matrix set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize using curvecat (preserves row & column category multisets) x_rand <- curvecat(x, n_iter = 1000)  # Verify margins are preserved all.equal(sort(x[1, ]), sort(x_rand[1, ]))  # Row preserved #> [1] TRUE all.equal(sort(x[, 1]), sort(x_rand[, 1]))  # Column preserved #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"understanding-fixed-margins","dir":"Articles","previous_headings":"Categorical null models","what":"Understanding fixed margins","title":"Introduction to nullcat","text":"Different algorithms preserve different margins:","code":"set.seed(456) x <- matrix(sample(1:3, 60, replace = TRUE), nrow = 10)  # Fixed-fixed: both row and column margins preserved x_fixed <- curvecat(x, n_iter = 1000)  # Row-constrained: only row margins preserved x_row <- r0cat(x)  # Column-constrained: only column margins preserved x_col <- c0cat(x)  # Check row sums by category table(x[1, ])           # Original row 1 #>  #> 1 2 3  #> 2 2 2 table(x_fixed[1, ])     # Preserved in curvecat #>  #> 1 2 3  #> 2 2 2 table(x_row[1, ])       # Preserved in r0cat #>  #> 1 2 3  #> 2 2 2 table(x_col[1, ])       # Not preserved in c0cat #>  #> 1 2 3  #> 1 3 2"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"quantitative-null-models","dir":"Articles","previous_headings":"","what":"Quantitative null models","title":"Introduction to nullcat","text":"quantize() function provides stratified randomization continuous community data (abundance, biomass, cover, occurrence probability). works applying following steps: Stratify: use flexible binning scheme convert continuous values discrete strata Randomize: apply one categorical null models described stratified matrix Reassign: map randomized strata back original values, subject chosen constraint use quantize? Existing quantitative null models lack flexibility margins preserve. binary curveball elegantly preserves row column totals, vegan’s quasiswap models count data, ’s framework preserving row /column value distributions continuous data (abundance, biomass, cover). stratification approach fills gap: using fixed = \"row\" fixed = \"col\", one dimension’s value multisets preserved exactly preserved resolution strata. closest available approximation quantitative fixed-fixed null model. Additionally, stratification provides explicit control preservation-randomization tradeoff number strata used.","code":""},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"example-basic-quantitative-randomization","dir":"Articles","previous_headings":"Quantitative null models","what":"Example: Basic quantitative randomization","title":"Introduction to nullcat","text":"","code":"# Create a quantitative community matrix set.seed(789) comm <- matrix(runif(200), nrow = 20)  # Default: curvecat-backed stratified randomization with 5 strata rand1 <- quantize(comm, n_strata = 5, n_iter = 2000, fixed = \"row\")  # Values are similar but rearranged cor(as.vector(comm), as.vector(rand1)) #> [1] 0.1757922 plot(rowSums(comm), rowSums(rand1)) plot(colSums(comm), colSums(rand1))"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"stratification-options","dir":"Articles","previous_headings":"Quantitative null models","what":"Stratification options","title":"Introduction to nullcat","text":"call quantize(), uses helper function stratify() convert continuous data discrete bins. stratification scheme can strongly influence randomization results, frequencies categories constrained matrix permutation. default, data split handful equal-width bins, can controlled parameters including n_strata, transform, zero_stratum, breaks, offset. Let’s call stratify() directly , understand behavior—good idea real analysis, just tutorial.","code":"set.seed(200) x <- rexp(100, .1)  # More strata = less mixing, higher fidelity to original distribution s3 <- stratify(x, n_strata = 3) s10 <- stratify(x, n_strata = 10)  table(s3)   # Coarser bins #> s3 #>  1  2  3  #> 89  9  2 table(s10)  # Finer bins #> s10 #>  1  2  3  4  5  6 10  #> 49 22 17  4  4  2  2  # Transform before stratifying (e.g., log-transform for skewed data) s_log <- stratify(x, n_strata = 5, transform = log1p) table(s_log) #> s_log #>  1  2  3  4  5  #> 14 26 27 27  6  # Rank transform creates equal-occupancy strata s_rank <- stratify(x, n_strata = 5, transform = rank) table(s_rank)  # Nearly equal counts per stratum #> s_rank #>  1  2  3  4  5  #> 20 20 20 20 20  # Separate zeros into their own stratum x_with_zeros <- c(0, 0, 0, x) s_zero <- stratify(x_with_zeros, n_strata = 4, zero_stratum = TRUE) table(s_zero) #> s_zero #>  1  2  3  4  #>  3 89  9  2"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"controlling-whats-preserved","dir":"Articles","previous_headings":"Quantitative null models","what":"Controlling what’s preserved","title":"Introduction to nullcat","text":"mechanics chosen randomization algorithm determine margins randomized categories preserved, fixed parameter controls original continuous values mapped back onto randomized categories, determining margins preserve original value distributions. four options fixed parameter: row, col, cell, stratum, though subset relevant algorithms. method like default curvecat algorithm preserves row column categorical multisets, four available:","code":"set.seed(100) comm <- matrix(rexp(100), nrow = 10)  # Preserve row value multisets (quantitative row sums maintained) rand_row <- quantize(comm, n_strata = 5, fixed = \"row\", n_iter = 2000) all.equal(rowSums(comm), rowSums(rand_row)) #> [1] TRUE  # Preserve column value multisets (quantitative column sums maintained) rand_col <- quantize(comm, n_strata = 5, fixed = \"col\", n_iter = 2000) all.equal(colSums(comm), colSums(rand_col)) #> [1] TRUE  # Cell-level preservation: each value moves with its original cell location # The categorical randomization determines WHERE cells go, but each cell # carries its original value with it rand_cell <- quantize(comm, n_strata = 5, fixed = \"cell\", n_iter = 2000)  # Values shuffled globally within strata, holding none of the above fixed rand <- quantize(comm, n_strata = 5, fixed = \"stratum\", n_iter = 2000)  # For non-fixed-fixed methods like r0cat or c0cat, only some fixed options make sense: # r0cat with fixed=\"col\" or c0cat with fixed=\"row\" would be incompatible"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"efficient-repeated-randomization","dir":"Articles","previous_headings":"","what":"Efficient repeated randomization","title":"Introduction to nullcat","text":"quantize routine includes setup, including stratification, doesn’t need repeatedly recomputed generating multiple randomized versions matrix. generating null distributions, can pre-compute overhead using quantize_prep(), can use *_batch() functions efficiently generate multiple replicates (optionally using parallel processing).","code":"set.seed(400) comm <- matrix(rexp(200), nrow = 20)  # Prepare once prep <- quantize_prep(comm, n_strata = 5, fixed = \"row\", n_iter = 2000)  # Generate many randomizations efficiently rand1 <- quantize(prep = prep) rand2 <- quantize(prep = prep) rand3 <- quantize(prep = prep)  # Or use batch functions nulls <- quantize_batch(comm, n_reps = 99, n_strata = 5,                         fixed = \"row\", n_iter = 2000) dim(nulls)  # 20 rows × 10 cols × 99 replicates #> [1] 20 10 99"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"convergence-diagnostics","dir":"Articles","previous_headings":"","what":"Convergence diagnostics","title":"Introduction to nullcat","text":"Sequential algorithms (curvecat, swapcat, tswapcat) require sufficient iterations reach stationarity. can use trace_cat() function either nullcat quantize assess many iterations needed particular dataset algorithm. trace shows similarity original matrix changes iterations; trace stabilizes around zero, algorithm reached stationarity. can also use suggest_n_iter() get automated suggestion reasonable number burn-iterations reach stationarity.","code":"set.seed(300) x <- matrix(sample(1:5, 400, replace = TRUE), nrow = 20)  # Generate trace showing mixing over iterations trace <- trace_cat(x, fun = \"nullcat\", method = \"curvecat\",                    n_iter = 1000, n_chains = 3, thin = 10)  # Visual inspection plot(trace) # Automatic burn-in suggestion suggested <- suggest_n_iter(trace, tail_frac = 0.3) print(suggested) #> suggested_n_iter object #> ----------------------- #> Converged: TRUE  #> Suggested n iterations: 410"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"integration-with-vegan","dir":"Articles","previous_headings":"","what":"Integration with vegan","title":"Introduction to nullcat","text":"nullcat includes several functions integrate vegan package’s null model framework. nullcat() quantize(), sequential non-sequential variants functions create vegan::commsim() objects suitable use vegan::nullmodel() vegan::oecosimu(). Examples include:","code":"library(vegan)  # Categorical data x_cat <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10) cs <- nullcat_commsim_seq(method = \"curvecat\") nm <- nullmodel(x_cat, cs) sims <- simulate(nm, nsim = 99, burnin = 1000, thin = 100)  # Quantitative data x_quant <- matrix(rexp(100), nrow = 10) cs_quant <- quantize_commsim(n_strata = 5, method = \"curvecat\", n_iter = 2000) nm_quant <- nullmodel(x_quant, cs_quant) sims_quant <- simulate(nm_quant, nsim = 99)"},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"references","dir":"Articles","previous_headings":"","what":"References","title":"Introduction to nullcat","text":"Strona et al. (2014). fast unbiased procedure randomize ecological binary matrices. Nature Communications, 5, 4114. Gotelli (2000). Null model analysis species co-occurrence patterns. Ecology, 81(9), 2606-2621.","code":""},{"path":"https://matthewkling.github.io/nullcat/articles/nullcat.html","id":"further-reading","dir":"Articles","previous_headings":"","what":"Further reading","title":"Introduction to nullcat","text":"Package website: https://matthewkling.github.io/nullcat/ Report issues: https://github.com/matthewkling/nullcat/issues","code":""},{"path":"https://matthewkling.github.io/nullcat/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Matthew Kling. Author, maintainer.","code":""},{"path":"https://matthewkling.github.io/nullcat/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Kling M (2025). nullcat: Null models categorical continuous community matrices. R package version 0.1.0, https://github.com/matthewkling/nullcat.","code":"@Manual{,   title = {nullcat: Null models for categorical and continuous community matrices},   author = {Matthew Kling},   year = {2025},   note = {R package version 0.1.0},   url = {https://github.com/matthewkling/nullcat}, }"},{"path":"https://matthewkling.github.io/nullcat/index.html","id":"nullcat-","dir":"","previous_headings":"","what":"Null models for categorical and continuous community matrices","title":"Null models for categorical and continuous community matrices","text":"nullcat provides null model algorithms categorical quantitative community ecology data. extends classic binary null models (e.g., curveball, swap) work categorical data, introduces stratified randomization framework continuous data addresses limitations existing methods randomizing quantitative count data.","code":""},{"path":"https://matthewkling.github.io/nullcat/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Null models for categorical and continuous community matrices","text":"","code":"# install.packages(\"remotes\") remotes::install_github(\"matthewkling/nullcat\")"},{"path":[]},{"path":"https://matthewkling.github.io/nullcat/index.html","id":"categorical-null-models","dir":"","previous_headings":"Quick start","what":"Categorical null models","title":"Null models for categorical and continuous community matrices","text":"Generalize binary null models matrices cells contain integers representing discrete categories: Available algorithms: curvecat(), swapcat(), tswapcat(), r0cat(), c0cat()","code":"library(nullcat)  # Create a categorical matrix set.seed(123) cat_matrix <- matrix(sample(1:4, 20*10, replace = TRUE), nrow = 20)  # Randomize using curvecat (preserves row & column category multisets) randomized <- curvecat(cat_matrix, n_iter = 1000)  # Verify margins are preserved all.equal(sort(cat_matrix[1,]), sort(randomized[1,])) #> [1] TRUE all.equal(sort(cat_matrix[,1]), sort(randomized[,1])) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/index.html","id":"quantitative-null-models","dir":"","previous_headings":"Quick start","what":"Quantitative null models","title":"Null models for categorical and continuous community matrices","text":"Apply stratified randomization continuous community data:","code":"# Create a quantitative community matrix set.seed(456) comm <- matrix(rexp(50 * 30, rate = 0.5), nrow = 50)  # Stratified randomization with 5 strata rand1 <- quantize(comm, n_strata = 5, n_iter = 2000)  # Preserve row value multisets (row sums maintained) rand2 <- quantize(comm, n_strata = 5, fixed = \"row\", n_iter = 2000) all.equal(rowSums(comm), rowSums(rand2)) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/index.html","id":"learn-more","dir":"","previous_headings":"","what":"Learn more","title":"Null models for categorical and continuous community matrices","text":"See vignette(\"nullcat\") comprehensive documentation including: Categorical null model algorithms constraints Quantitative null model workflow stratification options Convergence diagnostics burn-estimation Efficient batch generation null distributions Integration vegan package Package website: https://matthewkling.github.io/nullcat/ Report issues: https://github.com/matthewkling/nullcat/issues","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/c0cat.html","id":null,"dir":"Reference","previous_headings":"","what":"Column-constrained categorical randomization (c0cat) — c0cat","title":"Column-constrained categorical randomization (c0cat) — c0cat","text":"`c0cat()` preserves multiset categories within column randomizes positions across rows, leaving row margins free. categorical analog vegan's `c0` algorithm. non-sequential method.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/c0cat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Column-constrained categorical randomization (c0cat) — c0cat","text":"","code":"c0cat(x, n_iter = 1L, output = c(\"category\", \"index\"), seed = NULL)"},{"path":"https://matthewkling.github.io/nullcat/reference/c0cat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Column-constrained categorical randomization (c0cat) — c0cat","text":"x matrix categorical data, encoded integers. Values represent category stratum membership cell. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. output Character indicating type result return: \"category\" (default) returns randomized matrix \"index\" returns index matrix describing original        entries (.k.. \"tokens\") moved. Useful mainly testing,        applications like quantize() care token tracking        addition generic integer categories. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/c0cat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Column-constrained categorical randomization (c0cat) — c0cat","text":"matrix dimensions x, either randomized   categorical values (output = \"category\") integer index   matrix describing permutation entries (output = \"index\").","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/c0cat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Column-constrained categorical randomization (c0cat) — c0cat","text":"","code":"set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize within columns (column margins fixed, row margins free) x_rand <- c0cat(x)  # Verify columns are preserved but rows are not all.equal(sort(x[, 1]), sort(x_rand[, 1])) #> [1] TRUE any(sort(x[1, ]) != sort(x_rand[1, ])) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorical curveball randomization (curvecat) — curvecat","title":"Categorical curveball randomization (curvecat) — curvecat","text":"Categorical generalization binary curveball algorithm (Strona et al.) matrices categorical data. function convenience wrapper around [nullcat()] `method = \"curvecat\"`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorical curveball randomization (curvecat) — curvecat","text":"","code":"curvecat(x, n_iter = 1000L, output = \"category\", swaps = \"auto\", seed = NULL)"},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Categorical curveball randomization (curvecat) — curvecat","text":"x matrix categorical data, encoded integers. Values represent category stratum membership cell. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. output Character indicating type result return: \"category\" (default) returns randomized matrix \"index\" returns index matrix describing original        entries (.k.. \"tokens\") moved. Useful mainly testing,        applications like quantize() care token tracking        addition generic integer categories. swaps Character string controlling direction token movement. used method `curvecat`, `swapcat`, `tswapcat`. Affects result output = \"index\", otherwise affects computation speed. Options include: \"vertical\": Tokens move rows (stay within columns). \"horizontal\": Tokens move columns (stay within rows). \"alternating\": Tokens move dimensions, alternating     vertical horizontal swaps. Provides full 2D mixing without preserving     either row column token sets. \"auto\" (default): output = \"category\",     automatically selects fastest option based matrix dimensions.     output = \"index\", defaults \"alternating\" full mixing. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Categorical curveball randomization (curvecat) — curvecat","text":"matrix dimensions x, either randomized   categorical values (output = \"category\") integer index   matrix describing permutation entries (output = \"index\").","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Categorical curveball randomization (curvecat) — curvecat","text":"curvecat algorithm randomizes categorical matrix keeping category multisets row column fixed. words, permuted matrix set integer values every row every column original matrix, permuted. operates pairs rows time, grouping differing entries unordered category pairs redistributing orientation pairs preservingn multiset categories within row. two categories, `curvecat()` reduces behavior original binary curveball algorithm applied 0/1 matrix.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Categorical curveball randomization (curvecat) — curvecat","text":"Strona, G., Nappo, D., Boccacci, F., Fattorini, S., & San-Miguel-Ayanz, J. (2014). fast unbiased procedure randomize ecological binary matrices fixed row column totals. Nature Communications, 5, 4114.","code":""},{"path":[]},{"path":"https://matthewkling.github.io/nullcat/reference/curvecat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Categorical curveball randomization (curvecat) — curvecat","text":"","code":"# Create a categorical matrix set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize preserving row and column category multisets x_rand <- curvecat(x, n_iter = 1000)  # Verify margins are preserved all.equal(sort(x[1, ]), sort(x_rand[1, ])) # row multisets preserved #> [1] TRUE all.equal(sort(x[, 1]), sort(x_rand[, 1])) # column multisets preserved #> [1] TRUE  # Use with a seed for reproducibility x_rand1 <- curvecat(x, n_iter = 1000, seed = 42) x_rand2 <- curvecat(x, n_iter = 1000, seed = 42) identical(x_rand1, x_rand2) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/reference/kappa.html","id":null,"dir":"Reference","previous_headings":"","what":"Cohen's kappa for categorical data — kappa","title":"Cohen's kappa for categorical data — kappa","text":"Computes Cohen's kappa two categorical matrices, treating cell paired categorical observation.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/kappa.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Cohen's kappa for categorical data — kappa","text":"","code":"kappa(a, b)"},{"path":"https://matthewkling.github.io/nullcat/reference/kappa.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Cohen's kappa for categorical data — kappa","text":", b Matrices arrays dimensions categorical entries.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorical matrix randomization — nullcat","title":"Categorical matrix randomization — nullcat","text":"Categorical generalizations binary community null model algorithms.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorical matrix randomization — nullcat","text":"","code":"nullcat(   x,   method = nullcat_methods(),   n_iter = 1000L,   output = c(\"category\", \"index\"),   swaps = c(\"auto\", \"vertical\", \"horizontal\", \"alternating\"),   seed = NULL )"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Categorical matrix randomization — nullcat","text":"x matrix categorical data, encoded integers. Values represent category stratum membership cell. method Character specifying randomization algorithm use. Options include following; see details linked functions info. \"curvecat\": categorical analog `curveball`;        see curvecat details. \"swapcat\": categorical analog `swap`;        see swapcat details. \"tswapcat\": categorical analog `tswap`;        see tswapcat details. \"r0cat\": categorical analog `r0`;        see r0cat details. \"c0cat\": categorical analog `c0`;        see c0cat details. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. output Character indicating type result return: \"category\" (default) returns randomized matrix \"index\" returns index matrix describing original        entries (.k.. \"tokens\") moved. Useful mainly testing,        applications like quantize() care token tracking        addition generic integer categories. swaps Character string controlling direction token movement. used method `curvecat`, `swapcat`, `tswapcat`. Affects result output = \"index\", otherwise affects computation speed. Options include: \"vertical\": Tokens move rows (stay within columns). \"horizontal\": Tokens move columns (stay within rows). \"alternating\": Tokens move dimensions, alternating     vertical horizontal swaps. Provides full 2D mixing without preserving     either row column token sets. \"auto\" (default): output = \"category\",     automatically selects fastest option based matrix dimensions.     output = \"index\", defaults \"alternating\" full mixing. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Categorical matrix randomization — nullcat","text":"matrix dimensions x, either randomized   categorical values (output = \"category\") integer index   matrix describing permutation entries (output = \"index\").","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Categorical matrix randomization — nullcat","text":"`curvecat`, `swapcat`, `tswapcat` sequential algorithms hold category multisets fixed every row column. three algorithms typically reach stationary distribution. differ primarily efficiency, `curvecat` efficient (.e. fewest steps become fully mixed); `swapcat` `tswapcat` thus useful mainly methodological comparison. `r0cat` algorithm holds category multisets fixed rows columns, `c0cat` opposite. Note categorical null models cell-level categorical data. Site-level attributes (e.g., land cover) species-level attributes (e.g., functional traits) analyzed using different approaches.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Categorical matrix randomization — nullcat","text":"","code":"# Create a categorical matrix set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize using curvecat method (preserves row & column margins) x_rand <- nullcat(x, method = \"curvecat\", n_iter = 1000)  # Check that row multisets are preserved all.equal(sort(x[1, ]), sort(x_rand[1, ])) #> [1] TRUE  # Get index output showing where each cell moved idx <- nullcat(x, method = \"curvecat\", n_iter = 1000, output = \"index\")  # Use different methods x_swap <- nullcat(x, method = \"swapcat\", n_iter = 1000) x_r0 <- nullcat(x, method = \"r0cat\")  # Use with a seed for reproducibility x_rand1 <- nullcat(x, method = \"curvecat\", n_iter = 1000, seed = 42) x_rand2 <- nullcat(x, method = \"curvecat\", n_iter = 1000, seed = 42) identical(x_rand1, x_rand2) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a batch of null matrices using nullcat() — nullcat_batch","title":"Generate a batch of null matrices using nullcat() — nullcat_batch","text":"Runs categorical null model implemented [nullcat()] repeatedly, generating batch randomized matrices , optionally, batch summary statistics computed matrices. categorical analog `quantize_batch()`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a batch of null matrices using nullcat() — nullcat_batch","text":"","code":"nullcat_batch(x, n_reps = 999L, stat = NULL, n_cores = 1L, seed = NULL, ...)"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a batch of null matrices using nullcat() — nullcat_batch","text":"x Community matrix (sites × species) categorical matrix integers. n_reps Number randomizations generate. Default `999`. stat Optional summary function taking matrix returning numeric statistic. `NULL` (default), function returns full set randomized matrices. n_cores Number compute cores use parallel processing. Default `1`. seed Integer used seed random number generator, reproducibility. ... Additional arguments passed [nullcat()] (e.g. `method`, `n_iter`, `output`).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_batch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a batch of null matrices using nullcat() — nullcat_batch","text":"`stat` `NULL`, returns 3D array (rows × cols × n_reps).   `stat` `NULL`, returns numeric array statistic values   (dimensionality depends `stat`).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_batch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a batch of null matrices using nullcat() — nullcat_batch","text":"","code":"set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Generate 99 randomized matrices nulls <- nullcat_batch(x, n_reps = 99, method = \"curvecat\", n_iter = 100)  # Or compute a statistic on each row_sums <- nullcat_batch(x, n_reps = 99, stat = rowSums,                           method = \"curvecat\", n_iter = 100)"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim.html","id":null,"dir":"Reference","previous_headings":"","what":"Nullcat-based commsim (non-sequential) — nullcat_commsim","title":"Nullcat-based commsim (non-sequential) — nullcat_commsim","text":"Construct `vegan::commsim()` object uses [nullcat()] non-sequential null model categorical / integer matrices. simulated matrix generated independently applying [nullcat()] `n_iter` trades starting original matrix.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nullcat-based commsim (non-sequential) — nullcat_commsim","text":"","code":"nullcat_commsim(   n_iter = 10000,   method = nullcat_methods(),   output = c(\"category\", \"index\") )"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nullcat-based commsim (non-sequential) — nullcat_commsim","text":"n_iter Integer, number iterations (trades) per simulated matrix. Must positive integer. Default `1e4`. method Character specifying nullcat randomization algorithm use. See [nullcat()] [nullcat_methods()] details. output Character, passed `nullcat(output = ...)`. Typically `\"category\"` (default) `\"index\"`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nullcat-based commsim (non-sequential) — nullcat_commsim","text":"object class `\"commsim\"` suitable use   `vegan::nullmodel()` `vegan::oecosimu()`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nullcat-based commsim (non-sequential) — nullcat_commsim","text":"generates commsim object **non-sequential**: simulated matrix starts original matrix randomized independently using `n_iter` trades chosen `method`. used via `vegan::simulate.nullmodel()`, arguments behave : `nsim`: number simulated matrices generate. `n_iter` (, `nullcat_commsim()`): number trades per   simulated matrix (controls strongly replicate shuffled). `burnin` `thin`: **ignored** commsim,   `isSeq = FALSE` (simulations Markov chain). words, treat `n_iter` tuning parameter thoroughly independent null matrix randomized.","code":""},{"path":[]},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nullcat-based commsim (non-sequential) — nullcat_commsim","text":"","code":"if (FALSE) { # \\dontrun{   library(vegan)    x  <- matrix(sample(1:5, 50, replace = TRUE), 10, 5)   cs <- nullcat_commsim(n_iter = 1e4, method = \"curvecat\")    nm   <- nullmodel(x, cs)   sims <- simulate(nm, nsim = 999) } # }"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","title":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","text":"Construct `vegan::commsim()` object uses [nullcat()] *sequential* null model: successive simulated matrices form Markov chain. Internally, simulation \"step\" advances chain `thin` trades chosen `method` (e.g. `\"curvecat\"`), `thin` supplied via `vegan::simulate.nullmodel()“ arguments. analogous sequential swap / curveball null models used **vegan**, extended categorical data via [nullcat()].","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","text":"","code":"nullcat_commsim_seq(   method = nullcat_methods(),   output = c(\"category\", \"index\") )"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","text":"method Character specifying nullcat randomization algorithm use. See [nullcat()] [nullcat_methods()] details. output Character, passed `nullcat(output = ...)`. Typically `\"category\"` (default) `\"index\"`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim_seq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","text":"object class `\"commsim\"` suitable use   `vegan::nullmodel()` `vegan::oecosimu()`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim_seq.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","text":"model **sequential**: simulated matrices form Markov chain. current matrix updated -place repeated calls randomization model, successive matrices obtained advancing chain. `vegan::simulate.nullmodel()`, control arguments behave : `nsim`: number matrices *store* chain. `thin`: number trades per step. \"step\" chain   applies `thin` trades chosen `method` current state   possibly storing . `burnin`: number initial steps perform (`thin`   trades) storing matrices, .e. Markov chain   burn-. `n_iter` argument : mixing controlled entirely `thin` (trades per step) `burnin` (number initial steps discarded), spirit sequential swap / curveball models **vegan**.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_commsim_seq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Nullcat-based commsim (sequential / Markov chain) — nullcat_commsim_seq","text":"","code":"if (FALSE) { # \\dontrun{   library(vegan)    x  <- matrix(sample(1:5, 50, replace = TRUE), 10, 5)   cs <- nullcat_commsim_seq(method = \"curvecat\")    nm <- nullmodel(x, cs)    # control the chain with 'thin' and 'burnin'   sims <- simulate(nm, nsim = 999, thin = 100, burnin = 1000) } # }"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_methods.html","id":null,"dir":"Reference","previous_headings":"","what":"Supported nullcat methods — nullcat_methods","title":"Supported nullcat methods — nullcat_methods","text":"Return character vector supported categorical randomization methods.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_methods.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Supported nullcat methods — nullcat_methods","text":"","code":"nullcat_methods()"},{"path":"https://matthewkling.github.io/nullcat/reference/nullcat_methods.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Supported nullcat methods — nullcat_methods","text":"character vector method names.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize.html","id":null,"dir":"Reference","previous_headings":"","what":"Stratified randomization of a quantitative community matrix — quantize","title":"Stratified randomization of a quantitative community matrix — quantize","text":"approach provides framework preserving row /column value distributions continuous data. using fixed = \"row\" fixed = \"col\", one dimension's value multisets preserved exactly preserved resolution strata, approximating fixed-fixed null model quantitative data. number strata controls tradeoff preservation fidelity randomization strength. default, quantize() compute necessary overhead given dataset (strata, pools, etc.) internally. repeated randomization matrix (e.g. build null distribution), overhead can computed using quantize_prep reused supplying resulting object via prep argument.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Stratified randomization of a quantitative community matrix — quantize","text":"","code":"quantize(   x = NULL,   prep = NULL,   method = nullcat_methods(),   fixed = c(\"cell\", \"stratum\", \"row\", \"col\"),   breaks = NULL,   n_strata = 5,   transform = identity,   offset = 0,   zero_stratum = FALSE,   n_iter = 1000,   seed = NULL )"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Stratified randomization of a quantitative community matrix — quantize","text":"x Community matrix sites rows, species columns, nonnegative quantitative values cells. Ignored prep supplied. prep Optional precomputed object returned quantize_prep. supplied, x ignored overhead (stratification, pools, etc.) taken prep, typically much faster generating many randomizations dataset. method Character string specifying null model algorithm. default \"curvecat\" uses categorical curveball algorithm. See nullcat alternative options. fixed Character string specifying level quantitative   values held fixed randomization. One : \"cell\" (default; available method = \"curvecat\"):       values remain attached original cells move       categorical randomization. Row column value       distributions preserved, mapping original       cell randomized destination fixed. \"stratum\": values shuffled globally within stratum,       holding overall stratum-level value distribution fixed. \"row\": values shuffled within strata separately       row, holding row’s value multiset fixed. compatible       methods. \"col\": values shuffled within strata separately       column, holding column’s value multiset fixed. Note interacts method: different null models fix different margins underlying binary representation. breaks Numeric vector stratum breakpoints. n_strata Integer giving number strata split data . Must 2 greater. Larger values yield randomizations less mixing higher fidelity original marginal distributions. Default 5. Ignored unless breaks = NULL. transform function used transform values x assigning n_strata equal-width intervals. Examples include sqrt, log, rank (equal-occupancy strata), etc.; default identity. zero_stratum = TRUE, transformation applied nonzero values. function pass NA values. argument ignored unless breaks = NULL. offset Numeric value -1 1 (default 0) indicating much shift stratum breakpoints relative binwidth (applied quantization : breaks <- breaks + offset * bw). assess sensitivity stratum boundaries, run quantize() multiple times different offset values. Ignored unless breaks = NULL. zero_stratum Logical indicating whether segregate zeros stratum. FALSE (default), zeros likely combined stratum also includes small positive numbers. breaks specified, zero simply gets added additional break; , one n_strata represent zeros others nonzero ranges. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Stratified randomization of a quantitative community matrix — quantize","text":"randomized version x, dimensions   dimnames. method = \"curvecat\", quantitative values   reassigned within strata preserving row column stratum   multisets. binary methods, result corresponds applying   chosen binary null model stratum recombining.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Stratified randomization of a quantitative community matrix — quantize","text":"quantize() community null model quantitative community data (e.g. abundance, biomass, occurrence probability). works converting quantitative values discrete strata, randomizing stratified matrix using categorical null model, reassigning quantitative values within strata according specified constraint.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Stratified randomization of a quantitative community matrix — quantize","text":"","code":"# \\donttest{ # toy quantitative community matrix set.seed(1) comm <- matrix(rexp(50 * 40), nrow = 50,                dimnames = list(paste0(\"site\", 1:50),                                paste0(\"sp\", 1:40)))  # default: curvecat-backed stratified randomization rand1 <- quantize(comm)  # change stratification and preservation mode rand2 <- quantize(comm, n_strata = 4,                   transform = sqrt,                   fixed  = \"row\",                   n_iter    = 2000)  # use a different randomization algorithm rand3 <- quantize(comm, method = \"swapcat\", n_iter = 10000)  # precompute overhead and reuse for many randomizations prep  <- quantize_prep(comm, method = \"curvecat\",                        n_strata = 5, fixed = \"row\") rand4 <- quantize(prep = prep) rand5 <- quantize(prep = prep) # }"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_batch.html","id":null,"dir":"Reference","previous_headings":"","what":"Generate a batch of null matrices using quantize() — quantize_batch","title":"Generate a batch of null matrices using quantize() — quantize_batch","text":"Runs stratified null model implemented [quantize()] repeatedly, generating batch randomized matrices , optionally, batch summary statistics computed matrices.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_batch.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generate a batch of null matrices using quantize() — quantize_batch","text":"","code":"quantize_batch(x, n_reps = 999L, stat = NULL, n_cores = 1L, seed = NULL, ...)"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_batch.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generate a batch of null matrices using quantize() — quantize_batch","text":"x Community matrix (species × sites, numeric matrix). n_reps Number randomizations generate. Default `999`. stat Optional summary function taking matrix returning numeric statistic (e.g. `rowSums` abundance data give total abundance per site). `NULL` (default), function returns full set randomized matrices. n_cores Number compute cores use parallel processing. Default `1`. seed Integer used seed random number generator, reproducibility. ... Additional arguments passed `quantize()`, (e.g. `method`, `breaks`, `n_strata`, `transform`, `offset`, `zero_stratum`, `fixed`, `n_iter`, etc.).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_batch.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generate a batch of null matrices using quantize() — quantize_batch","text":"`stat` `NULL`, returns 3D array (rows × cols × n_reps).   `stat` `NULL`, returns numeric array statistic values   (dimensionality depends `stat`).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_batch.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Generate a batch of null matrices using quantize() — quantize_batch","text":"","code":"set.seed(123) x <- matrix(runif(100), nrow = 10)  # Generate 99 randomized matrices nulls <- quantize_batch(x, n_reps = 99, method = \"curvecat\", n_iter = 100)  # Or compute a statistic on each row_sums <- nullcat_batch(x, n_reps = 99, stat = rowSums,                           method = \"curvecat\", n_iter = 100)"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim.html","id":null,"dir":"Reference","previous_headings":"","what":"Quantize-based commsim (non-sequential) — quantize_commsim","title":"Quantize-based commsim (non-sequential) — quantize_commsim","text":"Construct [vegan::commsim()] object uses [quantize()] non-sequential null model numeric community matrices. simulated matrix generated independently applying [quantize()] `n_iter` trades (via internal call [nullcat()]) starting original matrix.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quantize-based commsim (non-sequential) — quantize_commsim","text":"","code":"quantize_commsim(n_iter = 10000, ...)"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quantize-based commsim (non-sequential) — quantize_commsim","text":"n_iter Integer, number iterations (trades) per simulated matrix. Must positive integer. Default `1e4`. ... Arguments passed [quantize()], `breaks`, `n_strata`, `transform`, `offset`, `zero_stratum`, `fixed`, `method`, etc. **** supply `x` `n_iter` ; set internally `quantize_commsim()`. See [quantize()] details.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quantize-based commsim (non-sequential) — quantize_commsim","text":"object class `\"commsim\"` suitable   [vegan::nullmodel()] [vegan::oecosimu()].","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Quantize-based commsim (non-sequential) — quantize_commsim","text":"generates commsim object **non-sequential**: simulated matrix starts original matrix randomized independently using `n_iter` trades chosen `method`. used via `vegan::simulate.nullmodel()`, arguments behave : `nsim`: number simulated matrices generate. `n_iter` (, `nullcat_commsim()`): number trades per   simulated matrix (controls strongly replicate shuffled). `burnin` `thin`: **ignored** commsim,   `isSeq = FALSE` (simulations Markov chain). words, treat `n_iter` tuning parameter thoroughly independent null matrix randomized.","code":""},{"path":[]},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quantize-based commsim (non-sequential) — quantize_commsim","text":"","code":"if (FALSE) { # \\dontrun{   library(vegan)    x <- matrix(rexp(50), 10, 5)    cs <- quantize_commsim(     n_strata = 10,     method   = \"curvecat\",     n_iter   = 1000L   )    nm   <- nullmodel(x, cs)   sims <- simulate(nm, nsim = 999) } # }"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim_seq.html","id":null,"dir":"Reference","previous_headings":"","what":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","title":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","text":"Construct [vegan::commsim()] object uses [quantize()] *sequential* null model: successive simulated matrices form Markov chain space numeric community matrices. Internally, simulation \"step\" advances chain re-applying [quantize()] current matrix using settings provided via `...`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim_seq.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","text":"","code":"quantize_commsim_seq(...)"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim_seq.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","text":"... Arguments passed [quantize()], `breaks`, `n_strata`, `transform`, `offset`, `zero_stratum`, `fixed`, `method`, `n_iter`, etc. **** supply `x` `n_iter` ; `x` provided vegan `n_iter` set internally `thin`. See [quantize()] details.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim_seq.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","text":"object class `\"commsim\"` suitable   [vegan::nullmodel()] [vegan::oecosimu()].","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim_seq.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","text":"model **sequential**: simulated matrices form Markov chain. current matrix updated -place repeated calls randomization model, successive matrices obtained advancing chain. `vegan::simulate.nullmodel()`, control arguments behave : `nsim`: number matrices *store* chain. `thin`: number trades per step. \"step\" chain   applies `thin` trades chosen `method` current state   possibly storing . `burnin`: number initial steps perform (`thin`   trades) storing matrices, .e. Markov chain   burn-. `n_iter` argument : mixing controlled entirely `thin` (trades per step) `burnin` (number initial steps discarded), spirit sequential swap / curveball models **vegan**.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_commsim_seq.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Quantile-based quantize commsim (sequential / Markov chain) — quantize_commsim_seq","text":"","code":"if (FALSE) { # \\dontrun{   library(vegan)    x <- matrix(rexp(50), 10, 5)    cs <- quantize_commsim_seq(     n_strata = 10,     method   = \"curvecat\",     n_iter   = 1000L   )    nm <- nullmodel(x, cs)    sims <- simulate(     nm,     nsim   = 999,     thin   = 10,    # 10 quantize updates between stored states     burnin = 100    # 100 initial steps discarded   ) } # }"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_prep.html","id":null,"dir":"Reference","previous_headings":"","what":"Prepare stratified null model overhead for quantize() — quantize_prep","title":"Prepare stratified null model overhead for quantize() — quantize_prep","text":"quantize_prep() precomputes stratification bookkeeping needed quantize() given quantitative community matrix. useful want generate many randomizations dataset: expensive steps (strata assignment, value pools, arguments underlying null model) computed , resulting object can passed quantize(prep = ...) fast repeated draws.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_prep.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Prepare stratified null model overhead for quantize() — quantize_prep","text":"","code":"quantize_prep(   x,   method = nullcat_methods(),   fixed = c(\"cell\", \"stratum\", \"row\", \"col\"),   breaks = NULL,   n_strata = 5,   transform = identity,   offset = 0,   zero_stratum = FALSE,   n_iter = 1000 )"},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_prep.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Prepare stratified null model overhead for quantize() — quantize_prep","text":"x Community matrix sites rows, species columns, nonnegative quantitative values cells. dataset stratification null model overhead prepared. method Character string specifying null model algorithm. default \"curvecat\" uses categorical curveball algorithm. See nullcat alternative options. fixed Character string specifying level quantitative   values held fixed randomization. One : \"cell\" (default; available method = \"curvecat\"):       values remain attached original cells move       categorical randomization. Row column value       distributions preserved, mapping original       cell randomized destination fixed. \"stratum\": values shuffled globally within stratum,       holding overall stratum-level value distribution fixed. \"row\": values shuffled within strata separately       row, holding row’s value multiset fixed. compatible       methods. \"col\": values shuffled within strata separately       column, holding column’s value multiset fixed. Note interacts method: different null models fix different margins underlying binary representation. breaks Numeric vector stratum breakpoints. n_strata Integer giving number strata split data . Must 2 greater. Larger values yield randomizations less mixing higher fidelity original marginal distributions. Default 5. Ignored unless breaks = NULL. transform function used transform values x assigning n_strata equal-width intervals. Examples include sqrt, log, rank (equal-occupancy strata), etc.; default identity. zero_stratum = TRUE, transformation applied nonzero values. function pass NA values. argument ignored unless breaks = NULL. offset Numeric value -1 1 (default 0) indicating much shift stratum breakpoints relative binwidth (applied quantization : breaks <- breaks + offset * bw). assess sensitivity stratum boundaries, run quantize() multiple times different offset values. Ignored unless breaks = NULL. zero_stratum Logical indicating whether segregate zeros stratum. FALSE (default), zeros likely combined stratum also includes small positive numbers. breaks specified, zero simply gets added additional break; , one n_strata represent zeros others nonzero ranges. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_prep.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Prepare stratified null model overhead for quantize() — quantize_prep","text":"list class \"quantize_prep\" (want set )   containing components needed quantize(): x: original quantitative marix x, strata: integer matrix dimension x,       giving stratum index (1, ..., n_strata) cell. stratarray: binary methods, 3D array dimension       n_strata × nrow(x) × ncol(x) containing       binary incidence matrix stratum; NULL       method = \"curvecat\". pool: data structure encoding quantitative value pools       used reassignment. \"curvecat\", list       per-stratum per-row/column pools depending fixed;       binary methods, matrix pre-shuffled values. method: null model method used (      method argument). n_strata, transform, offset, fixed:       stratification reassignment settings used construct       strata pool. sim_args: named list arguments passed       simulate.nullmodel (binary methods) used       internally curvecat (e.g. n_iter). object intended passed unchanged quantize()   via prep argument.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_prep.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Prepare stratified null model overhead for quantize() — quantize_prep","text":"Internally, quantize_prep(): transforms stratifies x n_strata numeric     intervals (via stratify()), constructs appropriate value pools given fixed     (either categorical \"curvecat\" backend binary     vegan methods), assembles arguments underlying null model call     (curvecat simulate.nullmodel). returned object can reused across calls quantize(), quantize_batch(), helpers accept prep argument.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/quantize_prep.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Prepare stratified null model overhead for quantize() — quantize_prep","text":"","code":"set.seed(1) comm <- matrix(rexp(50 * 40), nrow = 50,                dimnames = list(paste0(\"site\", 1:50),                                paste0(\"sp\", 1:40)))  # prepare overhead for a curvecat-backed stratified null model prep <- quantize_prep(comm, method = \"curvecat\",                       n_strata = 5,                       fixed = \"row\",                       n_iter = 2000)  # fast repeated randomizations using the same prep rand1 <- quantize(prep = prep) rand2 <- quantize(prep = prep)  # use a binary vegan method on each stratum prep_bin <- quantize_prep(comm, method = \"swap\", n_strata = 4) rand3 <- quantize(prep = prep_bin)"},{"path":"https://matthewkling.github.io/nullcat/reference/r0cat.html","id":null,"dir":"Reference","previous_headings":"","what":"Row-constrained categorical randomization (r0cat) — r0cat","title":"Row-constrained categorical randomization (r0cat) — r0cat","text":"`r0cat()` preserves multiset categories within row randomizes positions across columns, leaving column margins free. categorical analog vegan's `r0` algorithm. non-sequential method.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/r0cat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Row-constrained categorical randomization (r0cat) — r0cat","text":"","code":"r0cat(x, n_iter = 1L, output = c(\"category\", \"index\"), seed = NULL)"},{"path":"https://matthewkling.github.io/nullcat/reference/r0cat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Row-constrained categorical randomization (r0cat) — r0cat","text":"x matrix categorical data, encoded integers. Values represent category stratum membership cell. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. output Character indicating type result return: \"category\" (default) returns randomized matrix \"index\" returns index matrix describing original        entries (.k.. \"tokens\") moved. Useful mainly testing,        applications like quantize() care token tracking        addition generic integer categories. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/r0cat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Row-constrained categorical randomization (r0cat) — r0cat","text":"matrix dimensions x, either randomized   categorical values (output = \"category\") integer index   matrix describing permutation entries (output = \"index\").","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/r0cat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Row-constrained categorical randomization (r0cat) — r0cat","text":"","code":"set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize within rows (row margins fixed, column margins free) x_rand <- r0cat(x)  # Verify rows are preserved but columns are not all.equal(sort(x[1, ]), sort(x_rand[1, ])) #> [1] TRUE any(sort(x[, 1]) != sort(x_rand[, 1])) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/reference/stratify.html","id":null,"dir":"Reference","previous_headings":"","what":"Bin quantitative data into strata — stratify","title":"Bin quantitative data into strata — stratify","text":"Bin quantitative data strata","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/stratify.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Bin quantitative data into strata — stratify","text":"","code":"stratify(   x,   breaks = NULL,   n_strata = 5,   transform = identity,   offset = 0,   zero_stratum = FALSE )"},{"path":"https://matthewkling.github.io/nullcat/reference/stratify.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Bin quantitative data into strata — stratify","text":"x matrix vector containing non-negative values. breaks Numeric vector stratum breakpoints. n_strata Integer giving number strata split data . Must 2 greater. Larger values yield randomizations less mixing higher fidelity original marginal distributions. Default 5. Ignored unless breaks = NULL. transform function used transform values x assigning n_strata equal-width intervals. Examples include sqrt, log, rank (equal-occupancy strata), etc.; default identity. zero_stratum = TRUE, transformation applied nonzero values. function pass NA values. argument ignored unless breaks = NULL. offset Numeric value -1 1 (default 0) indicating much shift stratum breakpoints relative binwidth (applied quantization : breaks <- breaks + offset * bw). assess sensitivity stratum boundaries, run quantize() multiple times different offset values. Ignored unless breaks = NULL. zero_stratum Logical indicating whether segregate zeros stratum. FALSE (default), zeros likely combined stratum also includes small positive numbers. breaks specified, zero simply gets added additional break; , one n_strata represent zeros others nonzero ranges.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/stratify.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Bin quantitative data into strata — stratify","text":"object size x, integer values representing   stratum classifications.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/stratify.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Bin quantitative data into strata — stratify","text":"","code":"# Stratify a numeric vector x <- c(0, 0, 0.1, 0.5, 1.2, 3.4, 5.6, 10.2) stratify(x, n_strata = 3) #> [1] 1 1 1 1 1 1 2 3 #> attr(,\"breaks\") #> [1] -Inf  3.4  6.8  Inf  # With transformation stratify(x, n_strata = 3, transform = log1p) #> [1] 1 1 1 1 1 2 3 3 #> attr(,\"breaks\") #> [1] -Inf  1.2  3.4  Inf  # Separate zero stratum stratify(x, n_strata = 3, zero_stratum = TRUE) #> [1] 1 1 2 2 2 2 3 3 #> attr(,\"breaks\") #> [1] -Inf 0.00 5.15  Inf"},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":null,"dir":"Reference","previous_headings":"","what":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"Uses trace diagnostics estimate many burn-iterations needed `nullcat` `quantize` randomization reach apparent stationary distribution, given dataset randomization method. Uses \"first pre-tail sign-crossing\" rule per chain, returns maximum across chains. Can called community matrix `cat_trace` object.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"","code":"suggest_n_iter(trace = NULL, tail_frac = 0.3, plot = FALSE, ...)"},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"trace Either cat_trace object (returned trace_cat()), NULL. NULL, arguments trace_cat(), including x relevant parameters must supplied via ... tail_frac Fraction trace (end) used tail window (default 0.3). plot TRUE, plot trace, vertical line suggested value. ... Arguments passed trace_cat() including  arguments passes nullcat() quantize() function. Ignored trace non-NULL.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"integer class \"nullcat_n_iter\" attributes: n_iter (numeric NA), trace (matrix), steps (vector), tail_mean (per-chain), per_chain (data.frame), converged (logical).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"function uses “first pre-tail sign-crossing” heuristic identify burn-cutoff. simple variant standard mean-stability tests used MCMC convergence diagnostics (e.g., Heidelberger & Welch 1983; Geweke 1992; Geyer 1992). computes long-run mean based \"tail window\" chain, detects first iteration trace statistic crosses long-run mean, indicating chain begun oscillate around stationary value. chain reach long-run mean start tail window, chain determined reached stationarity, function returns NA attribute converged = FALSE.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"Heidelberger, P. & Welch, P.D. (1983). Simulation run length control presence initial transient. Operations Research, 31(6): 1109–1144. Geweke, J. (1992). Evaluating accuracy sampling-based approaches calculation posterior moments. Bayesian Statistics 4, pp. 169–193. Geyer, C.J. (1992). Practical Markov Chain Monte Carlo. Statistical Science, 7(4): 473–483. Feller, W. (1968). Introduction Probability Theory Applications, Vol. . Wiley.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/suggest_n_iter.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Suggest a reasonable n_iter for a randomization — suggest_n_iter","text":"","code":"set.seed(1234) x <- matrix(sample(1:5, 2500, replace = TRUE), 50)  # call `trace_cat`, then pass result to `suggest_n_iter`: trace <- trace_cat(x = x, fun = \"nullcat\", n_iter = 1000,                      n_chains = 5, method = \"curvecat\") suggest_n_iter(trace, tail_frac = 0.3, plot = TRUE)  #> suggested_n_iter object #> ----------------------- #> Converged: TRUE  #> Suggested n iterations: 380   # alternatively, supply `trace_cat` arguments directly to `suggest_n_iter`: x <- matrix(runif(2500), 50) n_iter <- suggest_n_iter(     x = x, n_chains = 5, n_iter = 1000, tail_frac = 0.3,     fun = \"quantize\", n_strata = 4, fixed = \"stratum\",     method = \"curvecat\", plot = TRUE)"},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorical swap randomization (swapcat) — swapcat","title":"Categorical swap randomization (swapcat) — swapcat","text":"Categorical generalization binary 2x2 swap algorithm matrices categorical data. function convenience wrapper around [nullcat()] `method = \"swapcat\"`.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorical swap randomization (swapcat) — swapcat","text":"","code":"swapcat(   x,   n_iter = 1000L,   output = c(\"category\", \"index\"),   swaps = \"auto\",   seed = NULL )"},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Categorical swap randomization (swapcat) — swapcat","text":"x matrix categorical data, encoded integers. Values represent category stratum membership cell. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. output Character indicating type result return: \"category\" (default) returns randomized matrix \"index\" returns index matrix describing original        entries (.k.. \"tokens\") moved. Useful mainly testing,        applications like quantize() care token tracking        addition generic integer categories. swaps Character string controlling direction token movement. used method `curvecat`, `swapcat`, `tswapcat`. Affects result output = \"index\", otherwise affects computation speed. Options include: \"vertical\": Tokens move rows (stay within columns). \"horizontal\": Tokens move columns (stay within rows). \"alternating\": Tokens move dimensions, alternating     vertical horizontal swaps. Provides full 2D mixing without preserving     either row column token sets. \"auto\" (default): output = \"category\",     automatically selects fastest option based matrix dimensions.     output = \"index\", defaults \"alternating\" full mixing. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Categorical swap randomization (swapcat) — swapcat","text":"matrix dimensions x, either randomized   categorical values (output = \"category\") integer index   matrix describing permutation entries (output = \"index\").","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Categorical swap randomization (swapcat) — swapcat","text":"swapcat algorithm attempts random 2x2 swaps form $$ \\begin{pmatrix} & b \\\\ b & \\end{pmatrix} \\leftrightarrow \\begin{pmatrix} b & \\\\ & b \\end{pmatrix} $$ \\(\\) \\(b\\) distinct categories. swaps preserve multiset categories row column. two categories present, `swapcat()` reduces behavior standard binary swap algorithm.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Categorical swap randomization (swapcat) — swapcat","text":"Gotelli, N. J. (2000). Null model analysis species co-occurrence patterns. *Ecology*, 81(9), 2606–2621. See also Gotelli & Entsminger (2003) *EcoSim: Null models software ecology* (Version 7.0) implementation details binary swap algorithm.","code":""},{"path":[]},{"path":"https://matthewkling.github.io/nullcat/reference/swapcat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Categorical swap randomization (swapcat) — swapcat","text":"","code":"set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize using swap algorithm x_rand <- swapcat(x, n_iter = 1000)  # Verify fixed-fixed constraint (row and column margins preserved) all.equal(sort(x[1, ]), sort(x_rand[1, ])) #> [1] TRUE all.equal(sort(x[, 1]), sort(x_rand[, 1])) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/reference/trace_cat.html","id":null,"dir":"Reference","previous_headings":"","what":"Trace diagnostics for categorical randomizations — trace_cat","title":"Trace diagnostics for categorical randomizations — trace_cat","text":"Applies nullcat() quantize() community matrix, recording summary statistic iteration help assess mixing given dataset.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/trace_cat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trace diagnostics for categorical randomizations — trace_cat","text":"","code":"trace_cat(   x,   fun = c(\"nullcat\", \"quantize\"),   n_iter = 1000L,   thin = NULL,   n_chains = 5L,   n_cores = 1L,   stat = NULL,   seed = NULL,   plot = FALSE,   ... )"},{"path":"https://matthewkling.github.io/nullcat/reference/trace_cat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trace diagnostics for categorical randomizations — trace_cat","text":"x Matrix categorical data (integers) quantitative values. fun function trace: \"nullcat\" \"quantize\". n_iter Total number update iterations simulate. Default 1000. thin Thinning interval (updates per recorded point). Default ~ n_iter/100. Smaller values increase resolution increase run time. n_chains Number independent chains run, assess consistency (default 5). n_cores Parallel chains (default 1). stat Function compares x permuted x_rand quantify similarity. Either function f(x, x_rand) returning scalar, NULL. NULL (default), traces use Cohen's kappa nullcat Pearson's correlation quantize. seed Optional integer seed reproducible traces. plot TRUE, plot traces. ... Arguments chosen fun (nullcat() quantize_batch()), method, n_strata, fixed, etc.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/trace_cat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trace diagnostics for categorical randomizations — trace_cat","text":"object class \"cat_trace\" elements: traces: matrix size (n_steps+1) x n_chains, including iteration 0 steps: integer vector iteration numbers (starting 0) fun, n_iter, thin, n_chains, n_cores, stat_name, call fun_args: list ... used (reproducibility) Plotting available via plot(cat_trace).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/trace_cat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Trace diagnostics for categorical randomizations — trace_cat","text":"","code":"# nullcat trace set.seed(123) x <- matrix(sample(1:5, 2500, replace = TRUE), 50) tr <- trace_cat(x, n_iter = 1000, n_chains = 5, fun = \"nullcat\",                 method = \"curvecat\") plot(tr)   # quantize trace x <- matrix(runif(2500), 50) tr <- trace_cat(x, n_iter = 1000, n_chains = 5, fun = \"quantize\",                 method = \"curvecat\", n_strata = 3, fixed = \"cell\") plot(tr)"},{"path":"https://matthewkling.github.io/nullcat/reference/tswapcat.html","id":null,"dir":"Reference","previous_headings":"","what":"Trial-swap categorical randomization (tswapcat) — tswapcat","title":"Trial-swap categorical randomization (tswapcat) — tswapcat","text":"trial-swap (\"tswap\") algorithm fixed–fixed randomization repeatedly attempts random 2×2 swaps valid one found iteration, reducing number wasted draws compared simple swap. tswapcat() extends logic categorical matrices.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/tswapcat.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Trial-swap categorical randomization (tswapcat) — tswapcat","text":"","code":"tswapcat(   x,   n_iter = 1000L,   output = c(\"category\", \"index\"),   swaps = \"auto\",   seed = NULL )"},{"path":"https://matthewkling.github.io/nullcat/reference/tswapcat.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Trial-swap categorical randomization (tswapcat) — tswapcat","text":"x matrix categorical data, encoded integers. Values represent category stratum membership cell. n_iter Number iterations. Default 1000. Larger values yield thorough mixing. Ignored non-sequential methods. Minimum burn-times can estimated suggest_n_iter. output Character indicating type result return: \"category\" (default) returns randomized matrix \"index\" returns index matrix describing original        entries (.k.. \"tokens\") moved. Useful mainly testing,        applications like quantize() care token tracking        addition generic integer categories. swaps Character string controlling direction token movement. used method `curvecat`, `swapcat`, `tswapcat`. Affects result output = \"index\", otherwise affects computation speed. Options include: \"vertical\": Tokens move rows (stay within columns). \"horizontal\": Tokens move columns (stay within rows). \"alternating\": Tokens move dimensions, alternating     vertical horizontal swaps. Provides full 2D mixing without preserving     either row column token sets. \"auto\" (default): output = \"category\",     automatically selects fastest option based matrix dimensions.     output = \"index\", defaults \"alternating\" full mixing. seed Integer used seed random number generator, reproducibility.","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/tswapcat.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Trial-swap categorical randomization (tswapcat) — tswapcat","text":"matrix dimensions x, either randomized   categorical values (output = \"category\") integer index   matrix describing permutation entries (output = \"index\").","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/tswapcat.html","id":"references","dir":"Reference","previous_headings":"","what":"References","title":"Trial-swap categorical randomization (tswapcat) — tswapcat","text":"Gotelli, N. J. (2000). Null model analysis species co-occurrence patterns. *Ecology*, 81(9), 2606–2621. Miklós, . & Podani, J. (2004). Randomization presence–absence matrices: comments new algorithms. *Ecology*, 85(1), 86–92. Gotelli, N. J. & Entsminger, G. L. (2003). *EcoSim: Null models software ecology* (Version 7.0). Acquired Intelligence Inc. & Kesey-Bear, Jericho (VT).","code":""},{"path":"https://matthewkling.github.io/nullcat/reference/tswapcat.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Trial-swap categorical randomization (tswapcat) — tswapcat","text":"","code":"set.seed(123) x <- matrix(sample(1:4, 100, replace = TRUE), nrow = 10)  # Randomize using swap algorithm x_rand <- tswapcat(x, n_iter = 1000)  # Verify fixed-fixed constraint (row and column margins preserved) all.equal(sort(x[1, ]), sort(x_rand[1, ])) #> [1] TRUE all.equal(sort(x[, 1]), sort(x_rand[, 1])) #> [1] TRUE"},{"path":"https://matthewkling.github.io/nullcat/news/index.html","id":"nullcat-010","dir":"Changelog","previous_headings":"","what":"nullcat 0.1.0","title":"nullcat 0.1.0","text":"Initial CRAN submission. Categorical generalizations binary null models (curvecat, swapcat, tswapcat, r0cat, c0cat) Stratified quantitative null models via quantize() MCMC diagnostics (trace_cat, suggest_n_iter) Integration vegan package","code":""}]
